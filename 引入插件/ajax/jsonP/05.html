<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<style type="text/css">
	#box{width: 400px;height: 200px;border:1px solid red;}
</style>
</head>
<body>
<button id="btn1">获取jack的信息显示在div里</button>	
<button id="btn2">获取jack的信息弹框</button>	
<button id="btn3">获取 allen 的信息弹框</button>	
<div id="box"></div>
<script type="text/javascript">

	// 获取对象
	var Btn1 = document.getElementById('btn1');
	var Btn2 = document.getElementById('btn2');
	var Btn3 = document.getElementById('btn3');

	// 获取jack的信息显示在div里
	Btn1.onclick = function(){
		// 跨域请求
		jsonP('http://127.0.0.1/H5_35/jsonP/jack.php','getTxt')
	}

	//获取jack的信息弹框
	Btn2.onclick = function(){
		jsonP('http://127.0.0.1/H5_35/jsonP/jack.php','alertText')
	}

	//获取jack的信息弹框
	Btn3.onclick = function(){
		jsonP('http://127.0.0.1/H5_35/jsonP/allen.php','getTxt')
	}


	// 把 jsonp 返回的数据放到指定的容器里
	function getTxt(data){
		// console.log(data);
		document.getElementById('box').innerHTML = '<p>'+data.name+'</p>';
	}
	// 弹框
	function alertText(data){
		alert(data.name);
	}


	// jsonP 的封装
	function jsonP(url,callback){
		// 创建 script 的节点对象
		var scriptNode = document.createElement('script');
		// 给 script 节点添加 src 属性
		scriptNode.src = url+'?callback='+callback;
		console.log(scriptNode.src);
		// 把创建的节点对象 放到 文档
		document.body.appendChild(scriptNode);
	}	


</script>
</body>
</html>
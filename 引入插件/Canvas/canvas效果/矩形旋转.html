<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <canvas id="canvas" width="500" height="500" style="border:1px solid red;"></canvas>
    <script>
    var context = document.getElementById('canvas').getContext('2d');

    // 将坐标点移动到250,250,
    context.translate(250, 250);

    var size = 0;
    var step = 1;

    var num = 0;
    setInterval(function() {
        // 1.先清空原来图形(那此时坐标原点的值应该是-250,-250)
        context.clearRect(-250, -250, 500, 500);

        // 保存当前环境
        context.save();

        // 2.角度++
        num += 5;
        // 3.旋转
        context.rotate(num * Math.PI / 180);

        // 缩放
        size += step;
        if (size > 40) {
            step = -1;
        } else if (size <= 0) {
            step = 1;
        }
        context.scale(size / 20, size / 20);

        // 4.重新画矩形
        context.fillRect(0, 0, 100, 100);

        context.restore();
    }, 100)
    </script>
</body>

</html>
